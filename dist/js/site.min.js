function fileValidation(){var e=$("#inputGroupFile01"),t=e[0].value;if(!/(\.xls|\.xlsx)$/i.exec(t))return $("#modalStyle").removeClass("modal-notify modal-danger"),$("#modalStyle").addClass("modal-notify modal-warning"),$("#titleModal").html("Atención"),$("#bodyModal").html("Solo se permiten archivos con la siguiente extension: .xls/.xlsx"),$("#alertModal").modal(),e.value="",!1;document.getElementById("loader").style.display="block";var a=new FormData;jQuery.each(jQuery("#inputGroupFile01")[0].files,function(e,t){a.append("file",t)}),jQuery.ajax({url:"http://localhost:8080/rest/accidents/predict/",data:a,cache:!1,contentType:!1,processData:!1,type:"POST",success:function(e){$('[data-toggle="tooltip"]').tooltip();var t=transformarJSON(e);$("#rowGrid").css("visibility","visible"),document.getElementById("loader").style.display="none",$("#dtBasic").DataTable({data:t,destroy:!0,columns:[{data:"siniestroSeveridad"},{data:"siniestroCausa"},{data:"siniestroParteCuerpo"},{data:"siniestroPorcentajeJuicio"}],columnDefs:[{targets:1,render:function(e,t,a){return"display"===t&&null!=e&&(e=e.replace(/<(?:.|\\n)*?>/gm,"")).length>80?'<span class="show-ellipsis" data-toggle="tooltip" data-placement="bottom" title="'+e+'">'+e.substr(0,80)+'</span><span class="no-show">'+e.substr(80)+"</span>":e}},{targets:[3],render:$.fn.dataTable.render.number(",",".",2)}],dom:"<'row buttonrows'<'col-sm-3'l><'col-sm-6 text-center'B><'col-sm-3'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",buttons:[{extend:"excel",text:'<span data-toggle="tooltip" data-placement="bottom" title="EXPORTAR RESULTADOS">EXPORTAR RESULTADOS </span><span class="fa fa-download"></span>'}],language:{info:"Mostrando _START_ a _END_ de _TOTAL_ Registros",search:"Buscar",lengthMenu:"Mostrar _MENU_ registros",infoEmpty:"Mostrando 0 a 0 de 0 registros",emptyTable:"No hay registros en la tabla",zeroRecords:"No se encontraron los registros buscados",paginate:{first:"«",previous:"‹",next:"›",last:"»"},aria:{paginate:{first:"Primero",previous:"Anterior",next:"Siguiente",last:"Último"}}},order:[3,"desc"],createdRow:function(e,t,a){parseFloat(t.siniestroPorcentajeJuicio)<=45?$(e.childNodes[3]).addClass("rowGood"):parseFloat(t.siniestroPorcentajeJuicio)>45&&parseFloat(t.siniestroPorcentajeJuicio)<60?$(e.childNodes[3]).addClass("rowWarning"):$(e.childNodes[3]).addClass("rowDanger")}}),$(".dataTables_length").addClass("bs-select")},error:function(e){document.getElementById("loader").style.display="none",$("#modalStyle").removeClass("modal-notify modal-warning"),$("#modalStyle").addClass("modal-notify modal-danger"),$("#titleModal").html("Error"),$("#bodyModal").html("Ocurrió un error en la comunicacion con el servicio, intente mas tarde"),$("#alertModal").modal()}})}function transformarJSON(e){for(var t=[],a=0;a<e._accidents.length;a++){var o={siniestroSeveridad:"",siniestroCausa:"",siniestroParteCuerpo:"",siniestroPorcentajeJuicio:""};o.siniestroCausa=e._accidents[a].accident.siniestroCausa,o.siniestroParteCuerpo=e._accidents[a].accident.siniestroParteCuerpo,o.siniestroSeveridad=e._accidents[a].accident.siniestroSeveridad,o.siniestroPorcentajeJuicio=e._accidents[a].inferredValue,t.push(o)}return t}$(document).ready(function(){$("#rowGrid").css("visibility","hidden"),document.getElementById("loader").style.display="none",$('[data-toggle="tooltip"]').tooltip()});